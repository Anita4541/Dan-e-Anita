name: Notion Auto Message

on:
  schedule:
    - cron: "0 11,13,15,19,23 * * *"  # è¿™é‡Œæ˜¯ UTC æ—¶é—´ï¼Œæ„å¤§åˆ©æ—¶é—´ +1å°æ—¶
  workflow_dispatch:

jobs:
  run-notion-bot:
    runs-on: ubuntu-latest
    timeout-minutes: 5  # é™åˆ¶ä»»åŠ¡æœ€å¤§è¿è¡Œæ—¶é—´ï¼Œé˜²æ­¢ GitHub è¯¯åˆ¤å¡æ­»

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3

      - name: Setup Python
        uses: actions/setup-python@v3
        with:
          python-version: '3.9'

      - name: Install dependencies
        run: pip install requests

      - name: Debug Notion Bot
        run: |
          echo "ğŸ“Œ Debug: æ£€æŸ¥ Python ç‰ˆæœ¬"
          python --version
          echo "ğŸ“Œ Debug: æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨"
          ls -lah
          echo "ğŸ“Œ Debug: è¿è¡Œ Notion Bot"
          python notion_bot.py
          echo "ğŸ“Œ Debug: Python ä»£ç æ‰§è¡Œå®Œæ¯•ï¼"
